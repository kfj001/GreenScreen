/* styles.css */
body {
    /* change body to a subtle gradient so translucency is visible */
    background-color: seagreen;
    color: #0f0;
    font-family: 'Press Start 2P', ui-monospace, monospace;
    font-size: 16px;
    margin: 0;
    padding: 40px;
    /* give room so terminal appears 'floating' */
}

/* Terminal: translucent, chunky font, CRT-like glow */
.terminal {
    /* single source of truth for line-height so cursor/lines stay consistent */
    --terminal-line-height: 1.06;
    /* use Press Start 2P to get chunky retro glyphs; fall back to a mono if not loaded */
    font-family: 'Press Start 2P', 'JetBrains Mono', ui-monospace, monospace;
    font-size: 18px;
    /* smaller glyphs mimic 80x25 scaling; tweak to taste */
    letter-spacing: 0.130em;
    /* slightly wider for retro look */
    line-height: var(--terminal-line-height);

    /* translucent black so the terminal looks like a floating panel */
    background-color: rgba(0, 0, 0, 0.72);
    backdrop-filter: blur(6px) saturate(120%);
    /* subtle glass effect */

    color: #66ff66;
    height: calc(100vh - 80px);
    display: flex;
    flex-direction: column;
    position: relative;
    overflow-y: auto;

    /* stronger framed look: increased border opacity so the edge pops against the page */
    border: 6px solid rgba(0, 255, 0, 0.28);
    border-radius: 12px;
    padding: 14px;

    /* add a dark outer rim + neon rim and deeper drop shadow so the terminal edge contrasts sharply
       with the page background. Order: dark separator, deep drop shadow, subtle neon glow. */
    box-shadow:
        0 0 0 4px rgba(0, 0, 0, 0.65),
        /* dark separator between terminal and page */
        0 28px 60px rgba(0, 0, 0, 0.75),
        /* deep drop shadow to emphasize float */
        0 0 18px rgba(0, 255, 0, 0.08);
    /* faint neon rim/glow */
    outline: 1px solid rgba(0, 255, 0, 0.06);
    -webkit-font-smoothing: none;
    /* crisp pixel feel */
    text-shadow: 0 0 6px rgba(0, 255, 0, 0.06);
    /* faint glow */
}

/* extra rim effect for high-contrast edge (non-invasive, purely visual) */
.terminal::after {
    content: "";
    position: absolute;
    inset: -6px;
    /* sit just outside the border */
    border-radius: 16px;
    /* slightly larger than .terminal's radius */
    pointer-events: none;
    /* subtle gradient rim blended with the page to make edge crisper on many backgrounds */
    background: linear-gradient(90deg, rgba(0, 255, 0, 0.06), rgba(0, 255, 0, 0.02));
    filter: blur(6px);
    opacity: 0.95;
    z-index: -1;
    /* visually behind the terminal but shows against the page */
}

.input_area {
    background-color: transparent;
    border: none;
    outline: none;
    color: #66ff66;
    /* match the base font size used by the terminal */
    font-size: inherit;
    font-family: inherit;
    font-weight: 400;
    /* match the terminal's line-height so the caret baseline is consistent */
    line-height: var(--terminal-line-height);
    padding: 1px 6px;
    /* slightly tighter to pull the cursor closer */
    margin: 0;
    flex: 1 1 auto;
}

.output {
    /* don't flex-grow; let output's height expand naturally so the input starts at the top
       and is pushed down as output is added. The terminal itself scrolls when content
       exceeds the viewport height. */
    /* reduce bottom padding to bring the input row closer to the last output line */
    padding: 10px 10px 2px;
    white-space: pre-wrap;
    font-family: inherit;
    font-weight: 400;
    line-height: var(--terminal-line-height);
    color: #b6ffb6;
    text-shadow: 0 0 8px rgba(0, 255, 0, 0.04);
}

/* spacing for individual output lines; small default gap keeps lines readable */
.line {
    margin: 3px 0;
}

/* when a command echo (user entry) is immediately followed by application response,
   add extra top spacing on the response so it doesn't sit too close to the command */
.line.cmd-echo+.line {
    margin-top: 10px;
}

.input_row {
    display: flex;
    align-items: center;
    /* reduce top/bottom padding to decrease vertical gap */
    padding: 4px 10px;
    /* border-top: 1px solid rgba(0,255,0,0.04); */
}

.prompt {
    margin-right: 6px;
    font-weight: 700;
    line-height: var(--terminal-line-height);
}

.error {
    /* use a brighter, warmer red that contrasts well against the dark terminal
       and give it a subtle reddish glow so it's readable even with the neon tint */
    color: #ff6b6b;
    /* text-shadow: 0 0 10px rgba(255,102,102,0.18); */
}

/* more specific rule for animated per-character errors (overrides any inherit oddities) */
/* .typewriter.error .char {
    color: #ff6b6b;
    text-shadow: 0 0 10px rgba(255,100,100,0.28);
} */

/* optional: tighten scrollbar visuals for a modern look */
.terminal::-webkit-scrollbar {
    width: 10px;
}

.terminal::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 0, 0.08);
    border-radius: 6px;
    border: 2px solid rgba(0, 0, 0, 0.5);
}

/* Per-character type-in animation (used by JS to animate terminal output) */
.typewriter {
    display: inline-block;
    /* allow wrapping but keep characters grouped */
    white-space: pre-wrap;
    /* preserve newlines and spacing */
}

.typewriter .char {
    display: inline-block;
    opacity: 0;
    /* smaller vertical offset so characters align tightly with the input baseline */
    transform: translateY(4px) scaleY(0.98);
    /* each char reads its --i variable (set by JS) to stagger animation */
    animation: char-in 420ms cubic-bezier(.2, .9, .2, 1) forwards;
    animation-delay: calc(var(--i, 0) * 0.05s);
    will-change: transform, opacity;
    color: inherit;
    /* keep terminal color */
    text-shadow: 0 0 10px rgba(0, 255, 0, 0.035);
}

@keyframes char-in {
    0% {
        opacity: 0;
        transform: translateY(8px) scaleY(0.95);
        filter: blur(2px);
    }

    60% {
        opacity: 1;
        transform: translateY(-1px) scaleY(1.02);
        filter: blur(0);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scaleY(1);
        filter: none;
    }
}

/* blinking cursor that can be appended after typewriter content if desired */
.typewriter .cursor {
    display: inline-block;
    width: 10px;
    height: 1em;
    margin-left: 2px;
    /* tuck the cursor closer to the preceding character */
    /* align to the text baseline so it visually sits near the last output line */
    vertical-align: text-bottom;
    background: currentColor;
    opacity: 0.85;
    animation: blink 1s steps(1) infinite;
}

@keyframes blink {
    50% {
        opacity: 0
    }
}

/*
 * `.dollarsymbol` â€” prevent line breaks inside monetary amounts.
 * Usage: wrap the currency symbol and amount together, e.g.
 *   <span class="dollarsymbol">$5.00</span>
 * or around the symbol and value together: <span class="dollarsymbol">$ 5.00</span>
 */
.dollarsymbol {
    /* Prevent wrapping inside this element so the currency and amount stay together. */
    /* white-space: nowrap; */
    /* Keep it inline while treating it as a single unit (safer for layout). */
    display: inline-block;
    /* Avoid breaking words inside on some browsers/locales. */
    /* word-break: keep-all; */
}